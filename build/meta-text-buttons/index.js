(()=>{"use strict";var e={418:(e,t,a)=>{var l=a(609),r=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,a){var l,c={},s=null,m=null;for(l in void 0!==a&&(s=""+a),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(m=t.ref),t)n.call(t,l)&&!i.hasOwnProperty(l)&&(c[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===c[l]&&(c[l]=t[l]);return{$$typeof:r,type:e,key:s,ref:m,props:c,_owner:o.current}}},706:(e,t,a)=>{e.exports=a(418)},609:e=>{e.exports=window.React}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},l.apply(null,arguments)}const r=window.wp.element,n=window.wp.components,o=window.wp.blockEditor;var i=a(609);const c=window.wp.primitives;var s=a(706);const m=(0,s.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(c.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),d=(0,s.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(c.Path,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"})}),u=window.wp.i18n;function p({buttons:e,setAttributes:t,index:a,label:l,url:c}){const[s,p]=(0,i.useState)(!1);function b(){t({buttons:e.map(((e,t)=>t===a?{...e,url:""}:e))}),p(!1)}return(0,r.createElement)("div",null,(0,r.createElement)(o.RichText,{className:`btn btn--primary ${1===a?"btn--outline":""} ${l&&c?"":"btn--disabled"}`,withoutInteractiveFormatting:!0,tagName:"text",value:l,allowedFormats:["core/link"],onChange:l=>(l=>{t({buttons:e&&e.map(((e,t)=>t===a?{...e,label:l}:e))})})(l),placeholder:(0,u.__)("Button")}),(0,r.createElement)(o.BlockControls,{group:"block"},c?(0,r.createElement)(n.ToolbarButton,{name:"link",icon:d,title:(0,u.__)("Unlink"),onClick:()=>b(),isActive:!0}):(0,r.createElement)(n.ToolbarButton,{name:"link",icon:m,title:(0,u.__)(`Link ${a+1}`),onClick:()=>p(!0)})),s&&(0,r.createElement)(n.Popover,{placement:"bottom",onClose:()=>p(!1),focusOnMount:!!s&&"firstElement",__unstableSlotName:"__unstable-block-tools-after",shift:!0},(0,r.createElement)(o.__experimentalLinkControl,{value:c,onChange:({url:l,title:r})=>{((l,r)=>{t({buttons:e&&e.map(((e,t)=>{const n=e.label||r;return t===a?{label:n,url:l}:e}))})})(l,r)},onRemove:()=>{b()},forceIsEditingLink:s})))}const b=JSON.parse('{"UU":"create-block/media-text-buttons","DD":"Media & Text & Buttons","Kk":"media"}'),v=window.wp.blocks,h=window.wp.data;(0,v.registerBlockType)(b.UU,{title:b.DD,icon:b.Kk,category:"layout",supports:{align:!0},attributes:{title:{type:"string",source:"html",selector:"h2"},content:{type:"string",source:"html",selector:"text"},mediaId:{type:"number",default:0},mediaUrl:{type:"string",default:""},buttons:{type:"array",default:[{label:"",url:""},{label:"",url:""}]}},edit:(0,h.withSelect)(((e,t)=>({media:t.attributes.mediaId?e("core").getMedia(t.attributes.mediaId):void 0})))((e=>{const{attributes:t,setAttributes:a}=e,i=(0,o.useBlockProps)();return(0,r.createElement)("div",null,(0,r.createElement)("div",l({},i,{className:"grid mb-2"}),(0,r.createElement)("div",{className:"col-md-6"},(0,r.createElement)(o.RichText,{tagName:"h2",value:t.title,allowedFormats:["core/bold","core/italic","core/text-color","core/strikethrough"],onChange:e=>a({title:e}),placeholder:(0,u.__)("Title...")}),(0,r.createElement)("div",{className:"mb-2"},(0,r.createElement)(o.RichText,{tagName:"text",value:t.content,allowedFormats:["core/bold","core/italic","core/text-color","core/strikethrough"],onChange:e=>a({content:e}),placeholder:(0,u.__)("Content...")})),(0,r.createElement)("div",{className:"d-flex gap-1"},t.buttons.map(((e,l)=>(0,r.createElement)(p,{key:l,buttons:t.buttons,label:e.label,url:e.url,setAttributes:a,index:l}))))),(0,r.createElement)("div",{className:"col-md-6"},(0,r.createElement)(o.MediaUploadCheck,null,(0,r.createElement)(o.MediaUpload,{onSelect:e=>a({mediaId:e.id,mediaUrl:e.url}),allowedTypes:["image"],value:t.mediaId,render:({open:a})=>(0,r.createElement)("button",{onClick:a,className:"mb-1 "+(0==t.mediaId?"editor-post-featured-image__toggle":"editor-post-featured-image__preview")},0==t.mediaId&&(0,u.__)("Choose an image","awp"),null!=e.media&&(0,r.createElement)(n.ResponsiveWrapper,{naturalWidth:e.media.media_details.width,naturalHeight:e.media.media_details.height},(0,r.createElement)("img",{src:e.media.source_url})))})),0!=t.mediaId&&(0,r.createElement)(o.MediaUploadCheck,null,(0,r.createElement)(o.MediaUpload,{title:(0,u.__)("Replace image","awp"),value:t.mediaId,onSelect:e=>a({mediaId:e.id,mediaUrl:e.url}),allowedTypes:["image"],render:({open:e})=>(0,r.createElement)(n.Button,{onClick:e,variant:"primary"},(0,u.__)("Replace image","awp"))})),0!=t.mediaId&&(0,r.createElement)(o.MediaUploadCheck,null,(0,r.createElement)(n.Button,{onClick:e=>a({mediaId:0,mediaUrl:""}),isDestructive:!0},(0,u.__)("Remove image","awp"))))))})),save:({attributes:e})=>{const t=o.useBlockProps.save();return(0,r.createElement)("div",l({className:"mb-2"},t),(0,r.createElement)("div",{className:"grid mb-2"},(0,r.createElement)("div",{className:"col-md-6"},(0,r.createElement)("div",{className:"mb-2"},(0,r.createElement)(o.RichText.Content,{tagName:"h2",value:e.title}),(0,r.createElement)(o.RichText.Content,{tagName:"text",value:e.content})),(0,r.createElement)("div",{className:"d-flex gap-1"},e.buttons.map(((e,t)=>e?.label&&e?.url&&(0,r.createElement)("a",{key:t,href:e.url,className:"btn btn--primary "+(1===t?"btn--outline":"")},e.label))))),(0,r.createElement)("div",{className:"col-md-6"},(0,r.createElement)("img",{src:e.mediaUrl,alt:""}))))}})})();